<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: generic-component.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: generic-component.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const assert = require('assert');

const { AWSComponent } = require('./aws-component');
const { Policy } = require('./policy');
const { Role } = require('./role');

const _ = require('lodash')

/**
 * This represents a generic AWS component. 
 * Use this one if you can't find fine-tailored version ({@link Lambda}, etc) in Cloudatlas library.
 * */
class GenericComponent extends AWSComponent {
  constructor(stackName, baseName) {
    super(stackName, baseName)
    this._properties = {};
    this._type = {}; 
  }

  /**
   * Set the "Type" field in AWS CloudFormation component spec
   * @param {string} typeString the Type ie "WS::ApiGateway::RestApi"
   */
  set type(typeString) {
    assert.equal(typeof typeString, 'string');
    this._type = typeString;
  }

  get type() {
    return this._type;
  }
  /**
   * Set the "Properties" field in AWS CloudFormation component spec
   * @param {object} p 
   */
  set properties(p) {
    assert.equal((typeof p), 'object');
    this._properties = p;
  }

  get properties() {
    return this._properties;
  }

  get template() {
    let template = {};
    
    template[this.fullName] = {
      "Type": this.type,
      "Properties": this.properties
    }
    
    const role = this.defaultRole; 
    if (role) {
      template = _.merge(template, role.template);
      template[this.fullName]['Properties']['Role'] = role.getValue('ARN');
    }
    
    return template;
  }
}


module.exports = {
  GenericComponent
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ApiGateway.html">ApiGateway</a></li><li><a href="AWSComponent.html">AWSComponent</a></li><li><a href="CloudFormation.html">CloudFormation</a></li><li><a href="DynamoDbTable.html">DynamoDbTable</a></li><li><a href="GenericComponent.html">GenericComponent</a></li><li><a href="Lambda.html">Lambda</a></li></ul><h3>Global</h3><ul><li><a href="global.html#forbiddenChangesTable">forbiddenChangesTable</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Aug 01 2018 12:20:31 GMT+1000 (AEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
