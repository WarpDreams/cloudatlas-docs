<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: cognito-user-group.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: cognito-user-group.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const assert = require('assert')
const AWSComponent = require('./aws-component').AWSComponent
const CognitoUserPool = require('./cognito-user-pool').CognitoUserPool
const AWSObject = require('./aws-object').AWSObject
const Policy = require('./policy').Policy
const Role = require('./role').Role

const _ = require('lodash')

class CognitoUserGroup extends AWSComponent {

  constructor(stackName, baseName, userPool) {
    super(stackName, baseName)
    this._userPool = userPool
    this._precedence = 0
  }

  get groupName() {
    return `${this.stackName}_${this.fullName}`;
  }

  get outputSpecs() {
    let specs = {}
    const id_spec = `${this.stackName}${this.fullName}ID`;
    specs[id_spec] = {
      "Description": `The ID for resource ${this.fullName} of stack ${this.stackName}`,
      "Value": {"Ref": this.fullName},
      "Export": {
        "Name": id_spec
      }
    }
    
    return specs
  }

  set precidence(newPrecidence) {
    this._precedence = newPrecidence
  }

  get precidence() {
    return this._precedence
  }

  set userPool(newUserPool) {
    this._userPool = newUserPool
  }
  
  /**
   * @deprecated. This property was named incorrectly. Use assumeRolePolicyDocument
   * */
  set assumeRolePolicyStatement(doc) {
    console.warn('assumeRolePolicyStatement is deprecated. Use .assumeRolePolicyDocument instead');
    this.assumeRolePolicyDocument = doc;
  }

  get userPool() {
    return this._userPool
  }

  get template() {
    let role = this.defaultRole
    let template = {}

    template = _.merge(template, role.template)
    template[this.fullName] = 
    {
      "Type" : "AWS::Cognito::UserPoolGroup",
      "Properties" : {
        "Description" : `Group ${this.baseName}`,
        "GroupName" : this.groupName,
        "Precedence" : this.precidence,
        "UserPoolId" : this.userPool.getValue('ID'),
        "RoleArn": {
          "Fn::GetAtt": [
            role.fullName,
            "Arn"
          ]
        }
      }
    }

    return template
  }
}

exports.CognitoUserGroup = CognitoUserGroup</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ApiGateway.html">ApiGateway</a></li><li><a href="AWSComponent.html">AWSComponent</a></li><li><a href="CloudFormation.html">CloudFormation</a></li><li><a href="DynamoDbTable.html">DynamoDbTable</a></li><li><a href="GenericComponent.html">GenericComponent</a></li><li><a href="Lambda.html">Lambda</a></li></ul><h3>Global</h3><ul><li><a href="global.html#forbiddenChangesTable">forbiddenChangesTable</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Sat Jul 14 2018 12:27:53 GMT+1000 (AEST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
